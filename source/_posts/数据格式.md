## configparser

> 此模块提供了它实现一种基本配置语言 `ConfigParser` 类，这种语言所提供的结构与 Microsoft Windows INI 文件的类似。
>
> 这个库 *并不* 能够解析或写入在 Windows Registry 扩展版本 INI 语法中所使用的值-类型前缀。

### 数据格式

```ini
[DEFAULT]
ServerAliveInterval = 45
Compression = yes
CompressionLevel = 9
ForwardX11 = yes

[bitbucket.org]
User = hg

[topsecret.server.com]
Port = 50022
ForwardX11 = no
```

### 使用方式

```python
import configparser
config = configparser.ConfigParser(allow_no_value=True, interpolation=None)
```

1. 读取配置文件

   ```python
   # 假设上面的数据格式存储在一个为 text.cfg 文件里面
   config.read('text.cfg')
   ```

2. 获取所有数据

   ```python
   config.items()
   ```

3. 读取节点

   ```python
   config.sections()
   ```

4. 获取某个节点

   ```python
   section = config['bitbucket.org']
   ```

5. 获取节点下某个属性值

   ```python
   section['User']
   ```

   |               函数               | 功能                     |
   | :------------------------------: | ------------------------ |
   |        `read(filenames)`         | 读取文件                 |
   |       `write(fileobject)`        | 写入文件                 |
   |            `clear()`             | 清楚数据                 |
   |           `popitem()`            | 移除数据                 |
   |           `default()`            | 获取默认节点             |
   |           `section()`            | 获取所有节点             |
   |        `options(section)`        | 获取所有属性             |
   |  `getboolean(section, option)`   | 获取布尔值               |
   |    `getint(section, option)`     | 获取整数值               |
   |   `getfloat(section, option)`    | 获取浮点值               |
   |      `get(section, option)`      | 获取属性值               |
   |         `items(section)`         | 获取所有值或某节点所有值 |
   |      `add_section(section)`      | 添加节点                 |
   |  `set(section, option, value)`   | 设置参数                 |
   | `remove_option(section, option)` | 移除属性                 |
   |    `remove_section(section)`     | 移除节点                 |
   |      `has_section(section)`      | 判断节点是否存在         |
   |  `has_option(section, option)`   | 判断属性是否存在         |

### 注意事项

1. 属性不区分大小写，自动转化为小写
2. `DEFAULT` 不管文件有没有这个节点，都会自动生成
3. 不会猜测配置文件中参数的类型，内部存储为字符串

### 补充说明

`configparser` 支持插值

```python
from configparser import ConfigParser, ExtendedInterpolation
# 将 interpolation 设置为 ExtendedInterpolation() ${}
# 将 interpolation 设置为 BasicInterpolation() %()
config = ConfigParser(interpolation=ExtendedInterpolation())
```

[configparser](https://docs.python.org/3/library/configparser.html?highlight=configparser#module-configparser)

## json

> 一个受 `JavaScript` 的对象字面量语法启发的轻量级数据交换格式，尽管它不仅仅是一个严格意义上的 JavaScript 的字集

### 数据格式

```json
[
  "foo",
  {
    "bar": [
      "baz",
      null,
      1.0,
      2
    ]
  }
]
```

### 使用方式

```python
import json
```

1. 数据写入文件

   ```python
   with open('data.json', 'w', encoding='utf-8') as fd:
       json.dump(['foo', {'bar': ('baz', None, 1.0, 2)}], fd)
   ```

2. 数据从文件加载

   ```python
   with open('data.json', 'r', encoding='utf-8') as fd:
       # 实质 load 内部使用的是 loads(fd.read())
       json.load(fd)
   ```

3. JSONEncoder

   ```python
   class ComplexEncoder(json.JSONEncoder):
       def defalut(self, obj):
           # complex 复合数
           if isinstance(obj, complex):
               return [obj.real, obj.imag]
           return json.JSONEncoder.default(self, obj)
    json.dumps(2+1j, cls=ComplexEncoder)
   ComplexEncoder().encode(2+1j)
   ```

|         函数         | 功能               |
| :------------------: | ------------------ |
| `dump(obj, fp, cls)` | 数据存入文件       |
|  `dumps(obj, cls)`   | 返回数据转化结果   |
|   `load(fp, cls)`    | 从文件中加载数据   |
|   `loads(s, cls)`    | 从字符串中加载数据 |
|    `JSONDecoder`     | JSON解码器         |
|    `JSONEncoder`     | JSON编码器         |

### 注意事项



### 补充说明















